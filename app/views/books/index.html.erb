<div>
    <h1>Books</h1>
    
    <table>
        <thead>
            <tr>
                <th>Title</th>
                <th>Body</th>
            </tr>
        </thead>
        <% @books.each do |book| %>
            <tbody>
                <tr>
                    <td><%= book.title %></td>
                    <td><%= book.body %></td>
                    <td><%= link_to "Show", book_path(book.id) %></td>
                    <td><%= link_to "Edit", edit_book_path(book.id) %></td>
                    <td><%= link_to "Destroy", book_path(book.id), method: :delete %></td>
                </tr>
            </tbody>
        <% end %>
    </table>
</div>

<div>
    <h2>New Book</h2>
    <%= form_with model:@book, url:books_path, local:true do |f| %>
        <% @book.errors.full_messages.each do |message| %>
            <div class="error">
                <% message = "error: #{message}" %>
                <%= message %>
            </div>
        <% end %>
        <div>
            <p class="title-label">Title</p>
            <%= f.text_field :title %>
        </div>
        <div>
            <p class="body-label">Body</p>
            <%= f.text_area :body %>
        </div>
        <div>
            <%= f.submit "Create Book" %>
        </div>
    <% end %>
</div>